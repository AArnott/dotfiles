- defaults:
    link:
      relink: true

- link:
    ~/.gitconfig: gitconfig
    ~/.bashrc: bashrc

- create:
    - ~/git

- shell:
  - 
    command: |
      if ! which go > /dev/null; then
        if which sudo > /dev/null; then
          SUDO=sudo
        fi
        $SUDO apt install -y golang-go
      fi
      GOPATH=~/go go get -u github.com/justjanne/powerline-go
    stdin: true
    stdout: true
    description: Install PowerLine
    quiet: true
  - 
    command: |
      if [ ! -d ~/.nvm ]; then
        if which sudo > /dev/null; then
          SUDO=sudo
        fi
        if ! which curl > /dev/null; then
          $SUDO apt install -y curl
        fi
        curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.35.3/install.sh | bash
      fi
    stdin: true
    stdout: true
    description: Install nvm
    quiet: true
